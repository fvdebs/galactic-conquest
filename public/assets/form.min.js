!function(){var t=!1,n=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.Class=function(){},Class.extend=function(i){var e=this.prototype;t=!0;var s=new this;for(var o in t=!1,i)s[o]="function"==typeof i[o]&&"function"==typeof e[o]&&n.test(i[o])?function(t,n){return function(){var i=this._super;this._super=e[t];var s=n.apply(this,arguments);return this._super=i,s}}(o,i[o]):i[o];function r(){!t&&this.init&&this.init.apply(this,arguments)}return r.prototype=s,r.constructor=r,r.extend=arguments.callee,r}}();let gc={};gc.form=Class.extend({init:function(){let t=this;$("form").on("submit",function(n){n.preventDefault(),n.stopPropagation();let i=$(this);i.find("button").addClass("is-loading"),$.post(i.attr("action"),i.serialize(),function(n){!0!==n.isSuccess?(t.handleError(i,n.message),i.find("button").removeClass("is-loading")):window.location.href=n.message},"json")})},handleError:function(t,n){let i,e=this;for(i in t.find("p.help.is-danger").remove(),n)e.populateFieldErrors(t,i,n[i])},populateFieldErrors:function(t,n,i){let e=t.find("[name="+n+"]"),s=e.parents("div.field");e.hasClass("is-danger")||e.addClass("is-danger");let o,r="";for(o in i)""!==i[o]&&(r+="<li>"+i[o]+"</li>");if(""!==r){let t=$('<p class="help is-danger"></p>');t.html("<ul>"+r+"</ul>"),s.append(t)}}}),$(document).ready(function(){new gc.form});